"use strict";
/**
 *
 * @param {babel} babel
 * @param {{apiFile: string, eventClient: string}} options
 */
module.exports = function (babel, options) {
    return {
        visitor: {
            Program: function (path, parent) {
                if (parent.filename.includes(options.apiFile)) {
                    /**
                     * Put an import statement with local name for default as client.
                     * We don't need to remove declare var client statement as it doesn't appear in tsc output.
                     */
                    var importStatement = babel.template.statement.ast("import client from \"".concat(options.eventClient, "\";"));
                    path.unshiftContainer("body", importStatement);
                }
            },
        },
    };
};
//# sourceMappingURL=add-event-client-to-core.js.map